<UserControl x:Class="InventorySystem.UI.Views.StockView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="400"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="White" CornerRadius="5" Padding="20"
                BorderBrush="#E0E0E0" BorderThickness="1" VerticalAlignment="Top">

            <TabControl BorderThickness="0" Background="Transparent">
                <TabControl.Resources>
                    <Style TargetType="TabItem">
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="FontWeight" Value="SemiBold"/>
                        <Setter Property="Padding" Value="10"/>
                        <Setter Property="Cursor" Value="Hand"/>
                    </Style>
                </TabControl.Resources>

                <TabItem Header="Receive (IN)">
                    <StackPanel Margin="0,20,0,0">
                        <TextBlock Text="Product" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <ComboBox ItemsSource="{Binding Products}" 
                                  SelectedItem="{Binding SelectedProduct}"
                                  DisplayMemberPath="Name"
                                  Padding="10" FontSize="14" Height="40" Margin="0,0,0,15"/>

                        <TextBlock Text="Quantity" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <TextBox Text="{Binding Quantity}" Padding="10" FontSize="14" Margin="0,0,0,15"/>

                        <TextBlock Text="Cost Price" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <TextBox Text="{Binding CostPrice}" Padding="10" FontSize="14" Margin="0,0,0,15"/>

                        <Button Content="CONFIRM RECEIPT" Command="{Binding ReceiveStockCommand}" 
                                Height="45" FontSize="14" Margin="0,10,0,0" Background="#009688"/>
                    </StackPanel>
                </TabItem>

                <TabItem Header="Adjust (OUT)">
                    <StackPanel Margin="0,20,0,0">
                        <TextBlock Text="Select Product to Remove" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <ComboBox ItemsSource="{Binding Products}" 
                                  SelectedItem="{Binding SelectedProduct}"
                                  DisplayMemberPath="Name"
                                  Padding="10" FontSize="14" Height="40" Margin="0,0,0,15"/>

                        <TextBlock Text="Quantity to Remove" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <TextBox Text="{Binding AdjustmentQty}" Padding="10" FontSize="14" Margin="0,0,0,15"/>

                        <TextBlock Text="Reason" FontWeight="SemiBold" Margin="0,0,0,5" Foreground="#555"/>
                        <ComboBox ItemsSource="{Binding AdjustmentReasons}" 
                                  SelectedItem="{Binding AdjustmentReason}"
                                  Padding="10" FontSize="14" Height="40" Margin="0,0,0,15"/>

                        <Button Content="CONFIRM REMOVAL" Command="{Binding AdjustStockCommand}" 
                                Height="45" FontSize="14" Margin="0,10,0,0" Background="#E74C3C"/>
                    </StackPanel>
                </TabItem>
            </TabControl>
        </Border>
        <Border Grid.Column="1" Background="White" CornerRadius="5" Padding="0"
                BorderBrush="#E0E0E0" BorderThickness="1" Margin="20,0,0,0">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <TextBlock Text="Recent Shipments" FontSize="16" FontWeight="SemiBold" 
                           Margin="20,20,0,10" Foreground="#2B3649"/>

                <DataGrid Grid.Row="1" ItemsSource="{Binding StockHistory}" 
                          IsReadOnly="True" AutoGenerateColumns="False" BorderThickness="0">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Date" Binding="{Binding ReceivedDate, StringFormat=dd MMM yyyy}" Width="100"/>
                        <DataGridTextColumn Header="Product" Binding="{Binding Product.Name}" Width="*"/>
                        <DataGridTextColumn Header="Qty" Binding="{Binding InitialQuantity}" Width="80"/>
                        <DataGridTextColumn Header="Cost" Binding="{Binding CostPrice, StringFormat=N2}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>
    </Grid>
</UserControl>