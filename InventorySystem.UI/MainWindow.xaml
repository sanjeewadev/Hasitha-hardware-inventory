<Window x:Class="InventorySystem.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:InventorySystem.UI.ViewModels"
        mc:Ignorable="d"
        Icon="/app.ico"
        Title="H &amp; J Inventory" Height="768" Width="1366"
        WindowStartupLocation="CenterScreen" 
        WindowState="Maximized"
        Background="{StaticResource BackgroundBrush}"
        SnapsToDevicePixels="True"
        UseLayoutRounding="True"
        TextOptions.TextFormattingMode="Display">

    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="260"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" Background="{StaticResource SidebarBrush}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="0,40,0,50">
                    <TextBlock Text="H &amp; J HARDWARE" FontSize="20" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center"/>
                    <TextBlock Text="INVENTORY MANAGEMENT" FontSize="10" Foreground="#64748B" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                </StackPanel>

                <StackPanel Grid.Row="1">
                    <TextBlock Text="MAIN MENU" FontSize="11" Foreground="#64748B" FontWeight="Bold" Margin="25,0,0,10"/>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToPOSCommand}" IsChecked="True">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_POS}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Point of Sale" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToProductsCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Products}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Products" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToInventoryCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Categories}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Inventory Catalog" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToSuppliersCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Truck}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Suppliers" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToStockInCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Input}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Stock In (GRN)" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToStockCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Stock}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Adjust / Transfer" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <TextBlock Text="ANALYTICS" FontSize="11" Foreground="#64748B" FontWeight="Bold" Margin="25,30,0,10"/>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToDashboardCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Dashboard}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Dashboard" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToTodaySalesCommand}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Today}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Today's Sales" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToHistoryCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_History}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Sales History" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>

                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToCreditsCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="💳" FontSize="16" Margin="0,0,15,0" VerticalAlignment="Center"/>
                            <TextBlock Text="Credit / Debtors" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                </StackPanel>

                <StackPanel Grid.Row="2" Margin="0,0,0,20">
                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToUsersCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="👥" FontSize="16" Margin="0,0,15,0" VerticalAlignment="Center"/>
                            <TextBlock Text="User Management" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                    <RadioButton GroupName="Nav" Style="{StaticResource NavButtonStyle}" Command="{Binding NavigateToSettingsCommand}" Visibility="{Binding AdminVisibility}">
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource Icon_Settings}" Width="16" Height="16" Stretch="Uniform" Margin="0,0,15,0" Fill="{Binding RelativeSource={RelativeSource AncestorType=RadioButton}, Path=Foreground}"/>
                            <TextBlock Text="Settings &amp; Backup" VerticalAlignment="Center"/>
                        </StackPanel>
                    </RadioButton>
                </StackPanel>
            </Grid>
        </Border>

        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="55"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Border Grid.Row="0" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1">
                <Grid Margin="25,10">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Right">
                        <Border Width="32" Height="32" CornerRadius="16" Background="{StaticResource PrimaryBrush}" Margin="0,0,10,0">
                            <TextBlock Text="{Binding CurrentUserInitial}" Foreground="White" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel VerticalAlignment="Center">
                            <TextBlock Text="{Binding CurrentUserName}" FontWeight="SemiBold" Foreground="#334155" FontSize="12"/>
                            <TextBlock Text="{Binding CurrentUserRole}" FontSize="10" Foreground="#94A3B8"/>
                        </StackPanel>
                    </StackPanel>
                </Grid>
            </Border>

            <ContentControl Grid.Row="1" Content="{Binding CurrentView}" Margin="15"/>
        </Grid>
    </Grid>
</Window>